import webbrowser
import pyautogui
from pynput.keyboard import Key, Listener as KeyboardListener
from pynput.mouse import Listener as MouseListener
import threading
import time
import random

exit_program = False

def open_youtube_video():
    url = 'https://www.youtube.com/watch?v=Jk71bPz5VLo&t=1753s'
    webbrowser.open(url)

def on_click(x, y, button, pressed):
    if pressed:
        open_youtube_video()

def on_press(key):
    global exit_program
    if key == Key.esc:
        exit_program = True
    else:
        open_youtube_video()

def move_to_random_position():
    while not exit_program:
        screen_width, screen_height = pyautogui.size()
        random_x = random.randint(0, screen_width - 1)
        random_y = random.randint(0, screen_height - 1)
        pyautogui.moveTo(random_x, random_y, duration=0.1)
        time.sleep(0.1)

def start_listeners():
    mouse_listener = MouseListener(on_click=on_click)
    mouse_listener.start()

    keyboard_listener = KeyboardListener(on_press=on_press)
    keyboard_listener.start()

    while not exit_program:
        time.sleep(0.1)

    mouse_listener.stop()
    keyboard_listener.stop()


listeners_thread = threading.Thread(target=start_listeners)
listeners_thread.start()

open_youtube_video()
move_to_random_position()
listeners_thread.join()
